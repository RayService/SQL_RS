(  case when (    (SELECT CASE WHEN TabDokladyZbozi.ECSNCelkemdokl>0 THEN (TabDokladyZbozi.SumakcbezDPH-TabDokladyZbozi.ECSNCelkemdokl)/(TabDokladyZbozi.SumakcbezDPH)*100 ELSE 0 END)      <=50)    then    255+cast((cast((SELECT CASE WHEN TabDokladyZbozi.ECSNCelkemdokl>0 THEN (TabDokladyZbozi.SumakcbezDPH-TabDokladyZbozi.ECSNCelkemdokl)/(TabDokladyZbozi.SumakcbezDPH)*100 ELSE 0 END)   as float)/50)*(255) as int)*256  else    256*255+255-cast((cast((SELECT CASE WHEN TabDokladyZbozi.ECSNCelkemdokl>0 THEN (TabDokladyZbozi.SumakcbezDPH-TabDokladyZbozi.ECSNCelkemdokl)/(TabDokladyZbozi.SumakcbezDPH)*100 ELSE 0 END)  -0.5 as float)/50)*(255) as int)  end  )
