(  SELECT            cast(( SELECT Profese + ','               FROM               (SELECT    distinct    cast(tvp.Profese as nvarchar(30)) as Profese, TabPlanPrPostup.ID  FROM            TabVyrProfese AS tvp WITH(NOLOCK)                         INNER JOIN TabPlanPrPostupVyrProfese AS tppvp WITH(NOLOCK) ON tvp.ID = tppvp.IDVyrProfese                         INNER JOIN TabPlanPrPostup AS tpp WITH(NOLOCK) ON tppvp.IDPostup = tpp.ID                                                               WHERE tpp.ID = TabPlanPrPostup.ID         ) t2              WHERE t2.ID = t1.ID              ORDER BY Profese                FOR XML PATH('') )  as nvarchar(255))AS Profese          FROM (SELECT    distinct    cast(tvp.Profese as nvarchar(30)) as Profese, TabPlanPrPostup.ID  FROM            TabVyrProfese AS tvp WITH(NOLOCK)                         INNER JOIN TabPlanPrPostupVyrProfese AS tppvp WITH(NOLOCK) ON tvp.ID = tppvp.IDVyrProfese                         INNER JOIN TabPlanPrPostup AS tpp WITH(NOLOCK) ON tppvp.IDPostup = tpp.ID                                                               WHERE tpp.ID = TabPlanPrPostup.ID         ) t1          GROUP BY ID   )
